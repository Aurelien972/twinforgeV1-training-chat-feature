/**
 * ================================================================
 * CENTRALIZED KEYFRAMES - Animation Definitions
 * Toutes les animations @keyframes consolidées en un seul endroit
 * Élimine les duplications et simplifie la maintenance
 * ================================================================
 */

/* ================================================================
   FADE ANIMATIONS
   ================================================================ */

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateZ(0);
  }
  to {
    opacity: 1;
    transform: translateZ(0);
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
    transform: translateZ(0);
  }
  to {
    opacity: 0;
    transform: translateZ(0);
  }
}

@keyframes fade-in-mobile {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px) translateZ(0);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
}

/* ================================================================
   SLIDE ANIMATIONS
   ================================================================ */

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(20px) translateZ(0);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
}

@keyframes slideOutDown {
  from {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px) translateZ(0);
  }
}

@keyframes slide-in-mobile {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* ================================================================
   SCALE ANIMATIONS
   ================================================================ */

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.96) translateZ(0);
  }
  to {
    opacity: 1;
    transform: scale(1) translateZ(0);
  }
}

@keyframes scaleOut {
  from {
    opacity: 1;
    transform: scale(1) translateZ(0);
  }
  to {
    opacity: 0;
    transform: scale(0.96) translateZ(0);
  }
}

@keyframes spring-in {
  0% {
    opacity: 0;
    transform: scale(0.8) translateZ(0);
  }
  50% {
    transform: scale(1.05) translateZ(0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateZ(0);
  }
}

/* ================================================================
   SHIMMER & SHINE EFFECTS
   ================================================================ */

@keyframes shimmerPass {
  from {
    transform: translateX(-100%) translateZ(0);
  }
  to {
    transform: translateX(200%) translateZ(0);
  }
}

@keyframes shimmer-wave {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

@keyframes shimmer-simple {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes progressShimmer {
  0% {
    transform: translateX(-100%) translateZ(0);
  }
  100% {
    transform: translateX(200%) translateZ(0);
  }
}

@keyframes shine {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

/* ================================================================
   PULSE & BREATHING EFFECTS
   ================================================================ */

@keyframes borderPulse {
  0%, 100% {
    opacity: 0.5;
    transform: scale(1) translateZ(0);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.01) translateZ(0);
  }
}

@keyframes glowPulse {
  0%, 100% {
    opacity: 0.6;
    filter: brightness(1);
  }
  50% {
    opacity: 1;
    filter: brightness(1.2);
  }
}

@keyframes breathing-glow {
  0%, 100% {
    opacity: 0.8;
    filter: brightness(1);
  }
  50% {
    opacity: 1;
    filter: brightness(1.3);
  }
}

@keyframes breathing-icon {
  0%, 100% {
    transform: scale(1) translateZ(0);
    opacity: 1;
  }
  50% {
    transform: scale(1.08) translateY(-4px) translateZ(0);
    opacity: 0.9;
  }
}

@keyframes breathingIconPulse {
  0%, 100% {
    transform: scale(1) translateZ(0);
    opacity: 0.9;
  }
  50% {
    transform: scale(1.1) translateZ(0);
    opacity: 1;
  }
}

@keyframes pulse-subtle-mobile {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.92; }
}

@keyframes pulse-modified {
  0%, 100% {
    opacity: 0.7;
    transform: scale(1) translateZ(0);
  }
  50% {
    opacity: 1;
    transform: scale(1.05) translateZ(0);
  }
}

/* ================================================================
   SPIN & ROTATION
   ================================================================ */

@keyframes spin {
  from {
    transform: rotate(0deg) translateZ(0);
  }
  to {
    transform: rotate(360deg) translateZ(0);
  }
}

@keyframes icon-spin-css {
  from {
    transform: rotate(0deg) translateZ(0);
  }
  to {
    transform: rotate(360deg) translateZ(0);
  }
}

@keyframes rotate-gradient {
  0% {
    transform: rotate(0deg) translateZ(0);
  }
  100% {
    transform: rotate(360deg) translateZ(0);
  }
}

/* ================================================================
   PARTICLE & FLOAT EFFECTS
   ================================================================ */

@keyframes particle-float-up {
  0% {
    transform: translateY(0) translateZ(0);
    opacity: 0.8;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(-100px) translateZ(0);
    opacity: 0;
  }
}

@keyframes dataParticle {
  0% {
    transform: translateY(0) rotate(0deg) translateZ(0);
    opacity: 0;
  }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% {
    transform: translateY(-100px) rotate(360deg) translateZ(0);
    opacity: 0;
  }
}

/* ================================================================
   PROGRESS & FILL ANIMATIONS
   ================================================================ */

@keyframes progressFill {
  from {
    transform: scaleX(0) translateZ(0);
    transform-origin: left;
  }
  to {
    transform: scaleX(1) translateZ(0);
    transform-origin: left;
  }
}

/* ================================================================
   TYPING & LOADING INDICATORS
   ================================================================ */

@keyframes typingDotBounce {
  0%, 80%, 100% {
    transform: scale(0) translateZ(0);
    opacity: 0;
  }
  40% {
    transform: scale(1) translateZ(0);
    opacity: 1;
  }
}

@keyframes dot-pulse {
  0%, 100% {
    opacity: 0.4;
    transform: scale(0.8) translateZ(0);
  }
  50% {
    opacity: 1;
    transform: scale(1) translateZ(0);
  }
}

/* ================================================================
   SKELETON LOADING
   ================================================================ */

@keyframes skeleton-pulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes skeletonPulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 0.8;
  }
}

/* ================================================================
   GRADIENTS ANIMÉS
   ================================================================ */

@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

/* ================================================================
   CALORIE HIGHLIGHT ANIMATIONS - MEAL SCAN
   ================================================================ */

@keyframes calorie-forge-glow {
  0%, 100% {
    opacity: 0.6;
    filter: brightness(1) blur(16px);
  }
  50% {
    opacity: 0.9;
    filter: brightness(1.3) blur(20px);
  }
}

@keyframes calorie-forge-glow-idle {
  0%, 100% {
    opacity: 0.5;
    filter: brightness(1) blur(16px);
  }
  50% {
    opacity: 0.7;
    filter: brightness(1.15) blur(18px);
  }
}

/* ================================================================
   COUNTDOWN & BOUNCE
   ================================================================ */

@keyframes countdownBounce {
  0% {
    opacity: 0;
    transform: scale(0.5) translateZ(0);
  }
  50% {
    opacity: 1;
    transform: scale(1.1) translateZ(0);
  }
  100% {
    opacity: 1;
    transform: scale(1) translateZ(0);
  }
}

@keyframes notification-bounce {
  0%, 100% {
    transform: scale(1) translateZ(0);
  }
  50% {
    transform: scale(1.15) translateZ(0);
  }
}

/* ================================================================
   SCAN & ANALYSIS EFFECTS
   ================================================================ */

@keyframes scanLineVertical {
  0% { transform: translateX(-100%) translateZ(0); }
  100% { transform: translateX(calc(100vw + 100%)) translateZ(0); }
}

@keyframes scanLineHorizontal {
  0% { transform: translateY(-100%) translateZ(0); }
  100% { transform: translateY(calc(100vh + 100%)) translateZ(0); }
}

@keyframes gridPulse {
  0%, 100% { opacity: 0.25; }
  50% { opacity: 0.35; }
}

@keyframes aiFocus {
  0%, 100% { opacity: 0.2; }
  50% { opacity: 0.5; }
}

/* ================================================================
   TOAST & NOTIFICATIONS
   ================================================================ */

@keyframes messageEnter {
  from {
    opacity: 0;
    transform: translateY(10px) translateZ(0);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
}

/* ================================================================
   FLASH & ACTIVE STATES
   ================================================================ */

@keyframes flash-active {
  0%, 100% {
    opacity: 0;
  }
  50% {
    opacity: 0.3;
  }
}

/* ================================================================
   SCROLL REVEAL
   ================================================================ */

@keyframes scroll-reveal-fade-in {
  from {
    opacity: 0;
    transform: translateY(20px) translateZ(0);
  }
  to {
    opacity: 1;
    transform: translateY(0) translateZ(0);
  }
}

/* ================================================================
   MOBILE OPTIMIZATIONS
   ================================================================ */

@media (max-width: 768px) {
  /* Ralentir les animations sur mobile */
  @keyframes breathing-icon {
    0%, 100% {
      transform: scale(1) translateZ(0);
    }
    50% {
      transform: scale(1.05) translateZ(0);
    }
  }

  @keyframes shimmerPass {
    from {
      transform: translateX(-100%) translateZ(0);
    }
    to {
      transform: translateX(150%) translateZ(0);
    }
  }
}

/* ================================================================
   REDUCED MOTION SUPPORT
   ================================================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Exception pour loaders essentiels */
  .loader-essential,
  [aria-busy="true"] {
    animation-duration: 2s !important;
    animation-iteration-count: infinite !important;
  }
}

/* ================================================================
   PERFORMANCE MODE OVERRIDES
   ================================================================ */

.performance-mode *[class*="shimmer"],
.performance-mode *[class*="particle"],
.performance-mode *[class*="glow"],
.performance-mode *[class*="breathing"] {
  animation: none !important;
}

/* Garder uniquement loaders essentiels en mode performance */
.performance-mode .loader-essential {
  animation: spin 2s linear infinite !important;
}
